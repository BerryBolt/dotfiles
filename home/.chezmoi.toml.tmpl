{{- $agent_name := promptStringOnce . "agent_name" "Agent name (e.g., Berry Bolt)" -}}
{{- $agent_email := promptStringOnce . "agent_email" "Agent email" -}}
{{- $agent_handle_github := promptStringOnce . "agent_handle_github" "GitHub handle (e.g., BerryBolt)" -}}
{{- $op_vault := promptStringOnce . "op_vault" "1Password vault name" -}}
{{- $op_service_account_token := or (env "OP_SERVICE_ACCOUNT_TOKEN") (promptStringOnce . "op_service_account_token" "1Password Service Account Token") -}}
{{- $ai_cli_env := (env "CHEZMOI_AI_CLI") | lower -}}
{{- $ai_cli := "" -}}
{{- if or (eq $ai_cli_env "claude-code") (eq $ai_cli_env "codex") (eq $ai_cli_env "none") -}}
{{- $ai_cli = $ai_cli_env -}}
{{- else -}}
{{- $ai_cli = promptChoiceOnce . "ai_cli" "AI CLI to install" (list "claude-code" "codex" "none") -}}
{{- end -}}

[data]
  agent_name = {{ $agent_name | quote }}
  agent_email = {{ $agent_email | quote }}
  agent_handle_github = {{ $agent_handle_github | quote }}
  op_service_account_token = {{ $op_service_account_token | quote }}
  op_vault = {{ $op_vault | quote }}
  ai_cli = {{ $ai_cli | quote }}
  
